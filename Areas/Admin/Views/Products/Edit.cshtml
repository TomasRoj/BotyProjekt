@model BotyProjekt.Models.Product
@{
    Layout = null;
    var categories = ViewBag.Categories as List<BotyProjekt.Models.Category> ?? new();
}

<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8" />
    <title>Editace produktu</title>
    <style>
        body { font-family: sans-serif; margin: 0; background: #f4f4f4; padding: 30px; }
        .container { max-width: 700px; margin: 0 auto; background: white; padding: 30px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        h1 { color: #333; margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }
        input, select, textarea { width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; }
        textarea { min-height: 100px; }
        .btn { padding: 10px 20px; border: none; border-radius: 3px; cursor: pointer; font-size: 14px; }
        .btn-success { background: #28a745; color: white; }
        .btn-back { background: #6c757d; color: white; text-decoration: none; display: inline-block; margin-right: 10px; }
        .button-group { margin-top: 20px; }
    </style>
</head>
<body>

    <div class="container">
        <a href="@Url.Action("Index", "Dashboard", new { area = "Admin", section = "products" })" class="btn btn-back">? Zpìt na produkty</a>

        <h1>Editace produktu: @Model.Name</h1>

        <form asp-area="Admin" asp-controller="Products" asp-action="EditSubmit" method="post">
            @Html.AntiForgeryToken()
            <input type="hidden" name="id" value="@Model.Id" />

            <div class="form-group">
                <label for="name">Název</label>
                <input id="name" name="name" value="@Model.Name" required />
            </div>

            <div class="form-group">
                <label for="description">Popis</label>
                <textarea id="description" name="description">@Model.Description</textarea>
            </div>

            <div class="form-group">
                <label for="basePrice">Cena</label>
                <input id="basePrice" name="basePrice" type="number" step="0.01" value="@Model.BasePrice" required />
            </div>

            <div class="form-group">
                <label for="discount">Sleva (%)</label>
                <input id="discount" name="discount" type="number" value="@Model.Discount" />
            </div>

            <div class="form-group">
                <label for="categoryId">Kategorie</label>
                <select id="categoryId" name="categoryId" required>
                    <option value="">-- Vyberte kategorii --</option>
                    @foreach (var cat in categories)
                    {
                        <option value="@cat.Id" @(Model.CategoryId == cat.Id ? "selected" : "")>@cat.Name</option>
                    }
                </select>
            </div>

            <div class="button-group">
                <button type="submit" class="btn btn-success">Uložit zmìny</button>
                <a href="@Url.Action("Index", "Dashboard", new { area = "Admin", section = "products" })" class="btn btn-back">Zrušit</a>
            </div>
        </form>
    </div>

</body>
</html>